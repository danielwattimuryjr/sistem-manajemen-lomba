import{r as F,j as e}from"./app-BMp7rrIE.js";import{I as u}from"./input-Bhr7UnI0.js";import{T as k,a as N,b as i,c as m,d as w,e as o,f as I}from"./table-D3P6S0NR.js";import{S as y}from"./scroll-area-DILJ946Z.js";import{B as b}from"./button-DwMJxYrM.js";import{I as g}from"./icon-4xBTHlec.js";import{T as H,a as S,b as B,c as P}from"./tooltip-Db-QwCji.js";import{H as A}from"./heading-Cb8WV2ou.js";import{I as f}from"./input-error-BQUUWSv-.js";import"./utils-CX6JGk4D.js";import"./index-BOal5HaC.js";import"./index-DsRXXQh9.js";import"./index-CcLwPPA6.js";import"./index-C_ZJlNbX.js";import"./index-BdQq_4o_.js";import"./index-C-Yw1eYK.js";import"./createReactComponent-D53WHkwG.js";import"./IconX-DLZKEOTT.js";import"./IconPlus-CDl2-C9V.js";import"./IconSlash-Bf8ZaQtR.js";import"./index-QakVjcpV.js";import"./index-KlsObrVO.js";import"./index-Bq-5HoB4.js";import"./index-BY7LDpuY.js";function re({initialFactors:d=[],setAssessmentFactors:l,errors:p}){const[s,c]=F.useState(d.length>0?d:[{name:"",weight:0}]),h=(t,a,r)=>{const n=s.map((j,C)=>C===t?{...j,[a]:r}:j);c(n),l(n)},T=()=>{const t={name:"",weight:0},a=[...s,t];c(a),l(a)},v=t=>{const a=s.filter((r,n)=>n!==t);c(a),l(a)},x=s.reduce((t,a)=>t+Number(a.weight),0);return e.jsxs(e.Fragment,{children:[e.jsx(A,{title:"Faktor Penilaian",description:"Pada bagian ini, silahkan tentukan faktor penilaian untuk lomba ini beserta dengan bobotnya. Total bobot penilaian tidak boleh melebihi 100%"}),e.jsxs("h1",{children:["Total bobot penilaian: ",x]}),e.jsx(y,{className:"h-[calc(80vh-300px)] rounded-md border",children:e.jsxs(k,{className:"relative",children:[e.jsx(N,{children:e.jsxs(i,{children:[e.jsx(m,{children:"Nama Faktor"}),e.jsx(m,{children:"Bobot"}),e.jsx(m,{})]})}),e.jsx(w,{children:s.length>0?e.jsx(e.Fragment,{children:s.map((t,a)=>e.jsxs(i,{children:[e.jsxs(o,{children:[e.jsx(u,{value:t.name,placeholder:"Cth. Kreativitas",onChange:r=>h(a,"name",r.target.value)}),e.jsx(f,{message:p[`assessment_factors.${a}.name`],className:"mt-2"})]}),e.jsxs(o,{children:[e.jsx(u,{type:"number",min:0,value:t.weight,onChange:r=>h(a,"weight",r.target.value)}),e.jsx(f,{message:p[`assessment_factors.${a}.weight`],className:"mt-2"})]}),e.jsx(o,{className:"flex items-center justify-center",children:e.jsx(H,{children:e.jsxs(S,{children:[e.jsx(B,{asChild:!0,children:e.jsx(b,{size:"icon",variant:"outline",type:"button",onClick:()=>v(a),children:e.jsx(g,{icon:"IconTrash"})})}),e.jsx(P,{align:"center",children:"Hapus baris ini"})]})})})]},a))}):e.jsx(i,{children:e.jsx(o,{colSpan:7,className:"animate-pulse py-5 text-center text-base font-semibold text-destructive",children:"Data Tidak Ada."})})}),e.jsx(I,{children:e.jsx(i,{children:e.jsx(o,{colSpan:3,children:e.jsxs(b,{type:"button",disabled:x>=100,onClick:T,variant:"ghost",className:"w-full",children:[e.jsx(g,{icon:"IconPlus",className:"mr-2"}),"Tambah"]})})})})]})})]})}export{re as default};
