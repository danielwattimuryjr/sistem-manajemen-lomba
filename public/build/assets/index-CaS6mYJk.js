import{r as s,j as C}from"./app-BLqjA7mZ.js";import{u as O}from"./index-aKqAcbf4.js";var h=globalThis!=null&&globalThis.document?s.useLayoutEffect:()=>{};function S(n,e){return s.useReducer((t,r)=>e[t][r]??t,n)}var v=n=>{const{present:e,children:t}=n,r=g(e),o=typeof t=="function"?t({present:r.isPresent}):s.Children.only(t),m=O(r.ref,w(o));return typeof t=="function"||r.isPresent?s.cloneElement(o,{ref:m}):null};v.displayName="Presence";function g(n){const[e,t]=s.useState(),r=s.useRef({}),o=s.useRef(n),m=s.useRef("none"),i=n?"mounted":"unmounted",[a,c]=S(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return s.useEffect(()=>{const u=M(r.current);m.current=a==="mounted"?u:"none"},[a]),h(()=>{const u=r.current,l=o.current;if(l!==n){const f=m.current,p=M(u);n?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(l&&f!==p?"ANIMATION_OUT":"UNMOUNT"),o.current=n}},[n,c]),h(()=>{if(e){let u;const l=e.ownerDocument.defaultView??window,d=p=>{const x=M(r.current).includes(p.animationName);if(p.target===e&&x&&(c("ANIMATION_END"),!o.current)){const A=e.style.animationFillMode;e.style.animationFillMode="forwards",u=l.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=A)})}},f=p=>{p.target===e&&(m.current=M(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{l.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:s.useCallback(u=>{u&&(r.current=getComputedStyle(u)),t(u)},[])}}function M(n){return(n==null?void 0:n.animationName)||"none"}function w(n){var r,o;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(o=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function y(n,e){const t=s.createContext(e),r=m=>{const{children:i,...a}=m,c=s.useMemo(()=>a,Object.values(a));return C.jsx(t.Provider,{value:c,children:i})};r.displayName=n+"Provider";function o(m){const i=s.useContext(t);if(i)return i;if(e!==void 0)return e;throw new Error(`\`${m}\` must be used within \`${n}\``)}return[r,o]}function I(n,e=[]){let t=[];function r(m,i){const a=s.createContext(i),c=t.length;t=[...t,i];const u=d=>{var P;const{scope:f,children:p,...N}=d,x=((P=f==null?void 0:f[n])==null?void 0:P[c])||a,A=s.useMemo(()=>N,Object.values(N));return C.jsx(x.Provider,{value:A,children:p})};u.displayName=m+"Provider";function l(d,f){var x;const p=((x=f==null?void 0:f[n])==null?void 0:x[c])||a,N=s.useContext(p);if(N)return N;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${m}\``)}return[u,l]}const o=()=>{const m=t.map(i=>s.createContext(i));return function(a){const c=(a==null?void 0:a[n])||m;return s.useMemo(()=>({[`__scope${n}`]:{...a,[n]:c}}),[a,c])}};return o.scopeName=n,[r,T(o,...e)]}function T(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(m){const i=r.reduce((a,{useScope:c,scopeName:u})=>{const d=c(m)[`__scope${u}`];return{...a,...d}},{});return s.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return t.scopeName=e.scopeName,t}function U(n){const e=s.useRef(n);return s.useEffect(()=>{e.current=n}),s.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function _(n,e,{checkForDefaultPrevented:t=!0}={}){return function(o){if(n==null||n(o),t===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}export{v as P,h as a,_ as b,I as c,y as d,U as u};
