import{X as S,G as y,r as D,j as e,a as V}from"./app-BMp7rrIE.js";import{T as A,a as E,b as a,c as n,d as U,e as s}from"./table-D3P6S0NR.js";import{I as B}from"./input-Bhr7UnI0.js";import{D as F,S as H,a as R}from"./data-table-limit-dropdown-BpuYQfiz.js";import q from"./columns-C00uqbTB.js";import z from"./cell-action-D_k0ffmZ.js";import{C as f}from"./checkbox-VW7JHlck.js";import{u as G}from"./useFilter-BjdHnnjf.js";import{B as L}from"./button-tooltip-DuqAJb_X.js";import{I as P,a as j}from"./icon-4xBTHlec.js";import{t as p,g as b}from"./getTimeStamp-DIm9CsfB.js";import"./utils-CX6JGk4D.js";import"./button-DwMJxYrM.js";import"./index-DsRXXQh9.js";import"./index-C-Yw1eYK.js";import"./select-BnrzF9zh.js";import"./react-icons.esm-BVR0Qx_J.js";import"./index-BdQq_4o_.js";import"./index-CcLwPPA6.js";import"./index-C-9_I4Oa.js";import"./index-C_ZJlNbX.js";import"./index-QakVjcpV.js";import"./index-BOal5HaC.js";import"./index-NHkrvllb.js";import"./index-KlsObrVO.js";import"./index-Bq-5HoB4.js";import"./index-DBt5jB0n.js";import"./index-BY7LDpuY.js";import"./dropdown-menu-BTy8-tfO.js";import"./index-B9lUuQ2E.js";import"./dropdown-dialog-BinIYVe8.js";import"./alert-dialog-BWn-GnV4.js";import"./tooltip-Db-QwCji.js";import"./createReactComponent-D53WHkwG.js";import"./IconX-DLZKEOTT.js";import"./IconPlus-CDl2-C9V.js";import"./IconSlash-Bf8ZaQtR.js";const Ie=({selectedRole:u,params:t,setParams:c})=>{const{users:g}=S().props,{data:h,setData:l,patch:C,reset:d}=y({user_id:[]});G({route:route("dashboard.superadmin.users.index"),values:t,only:["users"]}),D.useEffect(()=>{d()},[u]);function k(i){let o=(t==null?void 0:t.direction)??"asc";const r=(t==null?void 0:t.field)??"created_at";i===r&&(o=o==="asc"?"desc":"asc"),c({...t,field:i,direction:o})}function T(i,o){l(o?r=>({...r,user_id:[...r.user_id,i]}):r=>({...r,user_id:r.user_id.filter(I=>I!==i)}))}function v(i){return h.user_id.includes(i)}function N(i){i?V.post(route("dashboard.superadmin.users.ids"),{role:u}).then(o=>{l("user_id",o.data);const r=o.data;console.log("requested",r)}).catch(o=>{console.error("Error fetching user IDs:",o)}):d()}function w(){C(route("dashboard.superadmin.users.bulk-verify"),{onSuccess:()=>{p({title:"Status user telah diperbaharui",description:b()}),d()},onError:()=>{p({title:"Terjadi kesalahan saat memperbaharui status user",description:b()})}})}const{data:x,meta:m,links:_}=g;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-row gap-x-2",children:[e.jsx(F,{value:t==null?void 0:t.limit,onValueChange:i=>c({...t,limit:i})}),e.jsx(L,{tooltip:"Verifikasi Pengguna",disabled:h.user_id.length===0,size:"icon",onClick:w,children:e.jsx(P,{icon:"IconRosetteDiscountCheck"})})]}),e.jsx("div",{className:"w-72",children:e.jsx(B,{type:"text",value:t==null?void 0:t.search,onChange:i=>c(o=>({...o,search:i.target.value})),placeholder:"Pencarian..."})})]}),e.jsx("div",{className:"h-[calc(80vh-220px)] overflow-auto rounded-md border",children:e.jsxs(A,{className:"relative",children:[e.jsx(E,{children:e.jsxs(a,{children:[e.jsx(n,{children:e.jsx(f,{onCheckedChange:i=>N(i)})}),e.jsx(n,{className:"w-[50px] text-center",children:"#"}),q.map((i,o)=>e.jsx(n,{onClick:()=>k(i.column),children:e.jsx(H,{label:i.label,column:i.column,field:t==null?void 0:t.field,direction:t==null?void 0:t.direction})},o)),e.jsx(n,{})]})}),e.jsx(U,{children:x.length>0?e.jsx(e.Fragment,{children:x.map((i,o)=>e.jsxs(a,{children:[e.jsx(s,{children:e.jsx(f,{checked:v(i.id),onCheckedChange:r=>T(i.id,r),disabled:i.accountVerified})}),e.jsx(s,{className:"w-0 py-7 text-center",children:m.from+o}),e.jsxs(s,{children:[i.name,e.jsx("div",{className:"text-muted-foreground",children:i.email})]}),e.jsx(s,{children:i.emailVerified&&e.jsx(j,{className:"m-auto h-8 w-8 text-green-300"})}),e.jsx(s,{children:i.accountVerified&&e.jsx(j,{className:"m-auto h-8 w-8 text-green-300"})}),e.jsx(s,{children:i.createdAt}),e.jsx(s,{children:i.updatedAt}),e.jsx(s,{children:e.jsx(z,{user:i})})]},i.id))}):e.jsx(a,{children:e.jsx(s,{colSpan:7,className:"animate-pulse py-5 text-center text-base font-semibold text-destructive",children:"Data Tidak Ada."})})})]})}),e.jsx(R,{links:_,meta:m})]})};export{Ie as default};
