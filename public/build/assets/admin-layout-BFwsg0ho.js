import{r as p,j as s,g as W,R as H,x as E,X as I,S as G}from"./app-DpEa6Rf_.js";import{c as m}from"./utils-S9NV2AZE.js";import{a as B,d as X,b as J,C as T,c as K,O as C,T as k,D}from"./index-D14Z8mzc.js";import{b as Q}from"./react-icons.esm-B6unJ9KK.js";import{c as Y}from"./index-crENPLr2.js";import{T as Z,a as q,b as ee,c as te}from"./tooltip-RQsjLXiz.js";import{t as se,a as _}from"./icon-C28CBXB_.js";import{T as oe}from"./theme-toggle-x_eIP7Zq.js";import{U as re,T as ae}from"./toaster-DsGDxpNV.js";const ne=B,ie=X,ce=J,R=p.forwardRef(({className:e,...t},o)=>s.jsx(C,{className:m("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:o}));R.displayName=C.displayName;const de=Y("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),z=p.forwardRef(({side:e="right",className:t,children:o,...a},r)=>s.jsxs(ce,{children:[s.jsx(R,{}),s.jsxs(T,{ref:r,className:m(de({side:e}),t),...a,children:[s.jsxs(K,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[s.jsx(Q,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]}),o]})]}));z.displayName=T.displayName;const le=p.forwardRef(({className:e,...t},o)=>s.jsx(k,{ref:o,className:m("text-lg font-semibold text-foreground",e),...t}));le.displayName=k.displayName;const ue=p.forwardRef(({className:e,...t},o)=>s.jsx(D,{ref:o,className:m("text-sm text-muted-foreground",e),...t}));ue.displayName=D.displayName;const me={},S=e=>{let t;const o=new Set,a=(c,f)=>{const l=typeof c=="function"?c(t):c;if(!Object.is(l,t)){const d=t;t=f??(typeof l!="object"||l===null)?l:Object.assign({},t,l),o.forEach(u=>u(t,d))}},r=()=>t,b={setState:a,getState:r,getInitialState:()=>v,subscribe:c=>(o.add(c),()=>o.delete(c)),destroy:()=>{(me?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),o.clear()}},v=t=e(a,r,b);return b},fe=e=>e?S(e):S;var M={exports:{}},P={},O={exports:{}},$={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h=p;function pe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var he=typeof Object.is=="function"?Object.is:pe,xe=h.useState,be=h.useEffect,ve=h.useLayoutEffect,ge=h.useDebugValue;function je(e,t){var o=t(),a=xe({inst:{value:o,getSnapshot:t}}),r=a[0].inst,n=a[1];return ve(function(){r.value=o,r.getSnapshot=t,j(r)&&n({inst:r})},[e,o,t]),be(function(){return j(r)&&n({inst:r}),e(function(){j(r)&&n({inst:r})})},[e]),ge(o),o}function j(e){var t=e.getSnapshot;e=e.value;try{var o=t();return!he(e,o)}catch{return!0}}function ye(e,t){return t()}var Se=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ye:je;$.useSyncExternalStore=h.useSyncExternalStore!==void 0?h.useSyncExternalStore:Se;O.exports=$;var we=O.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g=p,Ne=we;function Ee(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ie=typeof Object.is=="function"?Object.is:Ee,Te=Ne.useSyncExternalStore,Ce=g.useRef,ke=g.useEffect,De=g.useMemo,_e=g.useDebugValue;P.useSyncExternalStoreWithSelector=function(e,t,o,a,r){var n=Ce(null);if(n.current===null){var i={hasValue:!1,value:null};n.current=i}else i=n.current;n=De(function(){function b(d){if(!v){if(v=!0,c=d,d=a(d),r!==void 0&&i.hasValue){var u=i.value;if(r(u,d))return f=u}return f=d}if(u=f,Ie(c,d))return u;var y=a(d);return r!==void 0&&r(u,y)?(c=d,u):(c=d,f=y)}var v=!1,c,f,l=o===void 0?null:o;return[function(){return b(t())},l===null?void 0:function(){return b(l())}]},[t,o,a,r]);var x=Te(e,n[0],n[1]);return ke(function(){i.hasValue=!0,i.value=x},[x]),_e(x),x};M.exports=P;var Re=M.exports;const ze=W(Re),V={},{useDebugValue:Me}=H,{useSyncExternalStoreWithSelector:Pe}=ze;let w=!1;const Oe=e=>e;function $e(e,t=Oe,o){(V?"production":void 0)!=="production"&&o&&!w&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),w=!0);const a=Pe(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,o);return Me(a),a}const N=e=>{(V?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?fe(e):e,o=(a,r)=>$e(t,a,r);return Object.assign(o,t),o},Ve=e=>e?N(e):N,A=Ve(e=>({isMinimized:!1,toggle:()=>e(t=>({isMinimized:!t.isMinimized}))})),L=({items:e,setOpen:t,isMobileNav:o=!1})=>{const{isMinimized:a}=A();return e!=null&&e.length?s.jsx("nav",{className:"grid items-start gap-2",children:s.jsx(Z,{children:e.map((r,n)=>{const i=se[r.icon||"arrowRight"];return r.href&&s.jsxs(q,{children:[s.jsx(ee,{asChild:!0,children:s.jsxs(E,{href:r.disabled?"/":r.href,className:m("flex items-center gap-2 overflow-hidden rounded-md py-2 text-sm font-medium hover:bg-accent hover:text-accent-foreground",r.active?"bg-accent":"transparent",r.disabled&&"cursor-not-allowed opacity-80"),onClick:()=>{t&&t(!1)},children:[s.jsx(i,{className:"ml-3 size-5 flex-none"}),o||!a&&!o?s.jsx("span",{className:"mr-2 truncate",children:r.title}):""]})}),s.jsx(te,{align:"center",side:"right",sideOffset:8,className:a?"inline-block":"hidden",children:r.title})]},n)})})}):null},F=[{title:"Dashboard",href:route("dashboard.home"),icon:"IconHome2",active:route().current()=="dashboard.home"},{title:"Manajemen Tingkat Peserta",href:route("dashboard.superadmin.levels.index"),icon:"IconLabelImportantFilled",active:route().current()=="dashboard.superadmin.levels.*"},{title:"Manajemen Pengguna",href:route("dashboard.superadmin.users.index"),icon:"IconUsersGroup",active:route().current()=="dashboard.superadmin.users.*"},{title:"Manajemen Perlombaan",href:route("dashboard.superadmin.competitions.index"),icon:"IconTournament",active:route().current()=="dashboard.superadmin.competitions.*"}],U=[{title:"Dashboard",href:route("dashboard.home"),icon:"IconHome2",active:route().current()=="dashboard.home"},{title:"Perlombaan",href:route("dashboard.admin.competitions.index"),icon:"IconTournament",active:route().current()=="dashboard.admin.competitions.*"}],Ae=[{title:"My Profile",href:route("profiles.index"),icon:"IconUserCircle",active:route().current()=="guest.profiles"},{title:"Perlombaan",href:route("my-competitions"),icon:"IconHome2",active:route().current()=="guest.competitions"}],Le=({className:e,role:t})=>{const[o,a]=p.useState(!1);return s.jsx(s.Fragment,{children:s.jsxs(ne,{open:o,onOpenChange:a,children:[s.jsx(ie,{asChild:!0,children:s.jsx(_,{icon:"IconMenu2"})}),s.jsx(z,{side:"left",className:"!px-0",children:s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs("div",{className:"px-3 py-2",children:[s.jsx("h2",{className:"mb-2 px-4 text-lg font-semibold tracking-tight",children:"Overview"}),s.jsx("div",{className:"space-y-1",children:s.jsx(L,{items:t==="superadmin"?F:U,isMobileNav:!0,setOpen:a})})]})})})]})})},Fe=()=>{var o,a;const{auth:e}=I().props,t=(o=e.user)==null?void 0:o.data;return s.jsx("header",{className:"sticky inset-x-0 top-0 w-full",children:s.jsxs("nav",{className:"flex items-center justify-between px-4 py-2 md:justify-end",children:[s.jsx("div",{className:m("block lg:!hidden"),children:s.jsx(Le,{role:t==null?void 0:t.role})}),s.jsxs("div",{className:"flex flex-row-reverse items-center gap-2",children:[((a=e==null?void 0:e.user)==null?void 0:a.data)&&s.jsx(re,{}),s.jsx(oe,{})]})]})})},Ue=({className:e})=>{var i;const{isMinimized:t,toggle:o}=A(),a=()=>{o()},{auth:r}=I().props,n=(i=r.user)==null?void 0:i.data;return s.jsxs("aside",{className:m("relative hidden h-screen flex-none border-r bg-card transition-[width] duration-500 md:block",t?"w-[72px]":"w-72",e),children:[s.jsx("div",{className:"hidden p-5 pt-10 lg:block",children:s.jsx(E,{href:"#",target:"_blank",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2 h-6 w-6",children:s.jsx("path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3"})})})}),s.jsx(_,{icon:"IconChevronLeft",className:m("absolute -right-3 top-10 z-50 cursor-pointer rounded-full border bg-background text-3xl text-foreground",t&&"rotate-180"),onClick:a}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsx("div",{className:"px-3 py-2",children:s.jsx("div",{className:"mt-3 space-y-1",children:s.jsx(L,{items:n.role==="superadmin"?F:(n==null?void 0:n.role)==="admin"?U:Ae})})})})]})},Ze=({children:e})=>s.jsxs(s.Fragment,{children:[s.jsx(G,{title:"Admin Panel"}),s.jsxs("div",{className:"flex",children:[s.jsx(Ue,{}),s.jsxs("main",{className:"w-full flex-1 overflow-hidden",children:[s.jsx(Fe,{}),e]}),s.jsx(ae,{})]})]});export{Ze as A};
