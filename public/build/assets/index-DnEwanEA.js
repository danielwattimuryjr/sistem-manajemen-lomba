import{G as p,X as f,j as e,x as h,A as v}from"./app-BMp7rrIE.js";import{T as g,a as D,b as u,c as x,d as y,e as i}from"./table-D3P6S0NR.js";import{D as N,S as A,a as w}from"./data-table-limit-dropdown-BpuYQfiz.js";import{B as T}from"./button-DwMJxYrM.js";import{I as l}from"./icon-4xBTHlec.js";import{t as j,g as b}from"./getTimeStamp-DIm9CsfB.js";import{D as I,a as S,b as C,c as _,d as M,e as k}from"./dropdown-menu-BTy8-tfO.js";import{D as m}from"./dropdown-dialog-BinIYVe8.js";import{D as B}from"./data-table-search-input-CndUUmEp.js";const P=[{label:"name",column:"name"},{label:"status",column:"is_active"},{label:"Tgl. Mulai",column:"start_date"},{label:"Tgl. Selesai",column:"end_date"}],E=({competition:n})=>{var s;const{delete:r}=p(),{auth:d}=f().props,a=(s=d.user)==null?void 0:s.data,c=t=>{r(route("dashboard.superadmin.competitions.destroy",t),{preserveScroll:!0,onSuccess:()=>{j({title:"Perlombaan berhasil dihapus",description:b()})}})},o=t=>{v.patch(route("dashboard.superadmin.competitions.update-status",t),{isActive:!t.isActive},{preserveScroll:!0,onSuccess:()=>{j({title:"Status perlombaan berhasil diperbaharui",description:b()})}})};return e.jsxs(I,{children:[e.jsx(S,{asChild:!0,children:e.jsx(T,{className:"h-7",variant:"outline",size:"icon",children:e.jsx(l,{icon:"IconDots",className:"h-5 w-5 stroke-[1.2]"})})}),e.jsxs(C,{align:"end",className:"w-56",children:[e.jsx(_,{children:"Actions"}),e.jsx(M,{}),(a==null?void 0:a.role)==="superadmin"&&e.jsxs(e.Fragment,{children:[n.isActive?e.jsxs(m,{description:"Perlombaan yang di-non aktifkan tidak akan muncul di halaman utama pengguna. Apa anda yakin?",action:()=>o(n),submit_text:"Ya, saya yakin!",cancel_text:"Batalkan",buttonStyle:"destructive",children:[e.jsx(l,{icon:"IconX",className:"mr-2"}),"Non Aktifkan"]}):e.jsxs(m,{description:"Perlombaan di aktifkan akan muncul di halaman utama pengguna. Apa anda yakin?",action:()=>o(n),submit_text:"Ya, saya yakin!",cancel_text:"Batalkan",buttonStyle:"destructive",children:[e.jsx(l,{icon:"IconCheck",className:"mr-2"}),"Aktifkan"]}),e.jsxs(m,{description:"Keputusan ini tidak dapat di batalkan. Data perlombaan akan dihapus.",action:()=>c(n),submit_text:"Ya, saya yakin!",cancel_text:"Batalkan",buttonStyle:"destructive",children:[e.jsx(l,{icon:"IconTrash",className:"mr-2"}),"Delete Permanently"]}),e.jsx(k,{children:e.jsxs(h,{href:route("dashboard.superadmin.competitions.edit",n),className:"flex items-center",children:[e.jsx(l,{icon:"IconEdit",className:"mr-2"}),"Perbaharui Data"]})})]}),e.jsx(k,{children:e.jsxs(h,{href:(a==null?void 0:a.role)==="superadmin"?route("dashboard.superadmin.competitions.show",n):route("dashboard.admin.competitions.show",n),className:"flex items-center",children:[e.jsx(l,{icon:"IconEye",className:"mr-2"}),"Lihat Detail"]})})]})]})},V=({competitions:n,meta:r,links:d,params:a,setParams:c,handleSort:o})=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"item-center mb-3 flex justify-between",children:[e.jsx(N,{value:a==null?void 0:a.limit,onValueChange:s=>c({...a,limit:s})}),e.jsx(B,{value:a==null?void 0:a.search,onChange:s=>c(t=>({...t,search:s.target.value}))})]}),e.jsx("div",{className:"h-[calc(80vh-220px)] overflow-auto rounded-md border",children:e.jsxs(g,{className:"relative",children:[e.jsx(D,{children:e.jsxs(u,{children:[e.jsx(x,{className:"w-[50px] text-center",children:"#"}),P.map((s,t)=>e.jsx(x,{onClick:()=>o(s.column),children:e.jsx(A,{label:s.label,column:s.column,field:a==null?void 0:a.field,direction:a==null?void 0:a.direction})},t)),e.jsx(x,{})]})}),e.jsx(y,{children:n.length>0?e.jsx(e.Fragment,{children:n.map((s,t)=>e.jsxs(u,{children:[e.jsx(i,{className:"w-0 py-7 text-center",children:r.from+t}),e.jsx(i,{children:s.name}),e.jsx(i,{className:s.isActive?"text-green-400":"text-destructive",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(l,{icon:s.isActive?"IconCheck":"IconX",className:"mr-2"}),s.isActive?"Aktif":"Tidak Aktif "]})}),e.jsx(i,{children:s.startDate}),e.jsx(i,{children:s.endDate}),e.jsx(i,{children:e.jsx(E,{competition:s})})]},s.id))}):e.jsx(u,{children:e.jsx(i,{colSpan:7,className:"animate-pulse py-5 text-center text-base font-semibold text-destructive",children:"Data Tidak Ada."})})})]})}),e.jsx(w,{link:d,meta:r})]});export{V as I};
