import{r as S,g as z,R as D,j as n,x as y,X as w,S as V}from"./app-BMp7rrIE.js";import{c as v}from"./utils-CX6JGk4D.js";import{S as $,a as L,b as H,U as R,T as _}from"./page-container-BEJubvPG.js";import{T as F,a as U,b as A,c as W}from"./tooltip-Db-QwCji.js";import{t as q,I as N}from"./icon-4xBTHlec.js";import{T as B}from"./theme-toggle-B2hQXKxj.js";const G=e=>{let t;const r=new Set,o=(c,h)=>{const u=typeof c=="function"?c(t):c;if(!Object.is(u,t)){const l=t;t=h??(typeof u!="object"||u===null)?u:Object.assign({},t,u),r.forEach(d=>d(t,l))}},s=()=>t,f={setState:o,getState:s,getInitialState:()=>p,subscribe:c=>(r.add(c),()=>r.delete(c)),destroy:()=>{r.clear()}},p=t=e(o,s,f);return f},X=e=>G(e);var I={exports:{}},E={},k={exports:{}},T={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m=S;function J(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var K=typeof Object.is=="function"?Object.is:J,Q=m.useState,Y=m.useEffect,Z=m.useLayoutEffect,ee=m.useDebugValue;function te(e,t){var r=t(),o=Q({inst:{value:r,getSnapshot:t}}),s=o[0].inst,a=o[1];return Z(function(){s.value=r,s.getSnapshot=t,j(s)&&a({inst:s})},[e,r,t]),Y(function(){return j(s)&&a({inst:s}),e(function(){j(s)&&a({inst:s})})},[e]),ee(r),r}function j(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!K(e,r)}catch{return!0}}function ne(e,t){return t()}var re=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ne:te;T.useSyncExternalStore=m.useSyncExternalStore!==void 0?m.useSyncExternalStore:re;k.exports=T;var se=k.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g=S,oe=se;function ae(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ie=typeof Object.is=="function"?Object.is:ae,ce=oe.useSyncExternalStore,le=g.useRef,ue=g.useEffect,de=g.useMemo,he=g.useDebugValue;E.useSyncExternalStoreWithSelector=function(e,t,r,o,s){var a=le(null);if(a.current===null){var i={hasValue:!1,value:null};a.current=i}else i=a.current;a=de(function(){function f(l){if(!p){if(p=!0,c=l,l=o(l),s!==void 0&&i.hasValue){var d=i.value;if(s(d,l))return h=d}return h=l}if(d=h,ie(c,l))return d;var b=o(l);return s!==void 0&&s(d,b)?d:(c=l,h=b)}var p=!1,c,h,u=r===void 0?null:r;return[function(){return f(t())},u===null?void 0:function(){return f(u())}]},[t,r,o,s]);var x=ce(e,a[0],a[1]);return ue(function(){i.hasValue=!0,i.value=x},[x]),he(x),x};I.exports=E;var me=I.exports;const xe=z(me),{useDebugValue:fe}=D,{useSyncExternalStoreWithSelector:pe}=xe,ve=e=>e;function ge(e,t=ve,r){const o=pe(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return fe(o),o}const je=e=>{const t=typeof e=="function"?X(e):e,r=(o,s)=>ge(t,o,s);return Object.assign(r,t),r},Se=e=>je(e),M=Se(e=>({isMinimized:!1,toggle:()=>e(t=>({isMinimized:!t.isMinimized}))})),C=({items:e,setOpen:t,isMobileNav:r=!1})=>{const{isMinimized:o}=M();return e!=null&&e.length?n.jsx("nav",{className:"grid items-start gap-2",children:n.jsx(F,{children:e.map((s,a)=>{const i=q[s.icon||"arrowRight"];return s.href&&n.jsxs(U,{children:[n.jsx(A,{asChild:!0,children:n.jsxs(y,{href:s.disabled?"/":s.href,className:v("flex items-center gap-2 overflow-hidden rounded-md py-2 text-sm font-medium hover:bg-accent hover:text-accent-foreground",s.active?"bg-accent":"transparent",s.disabled&&"cursor-not-allowed opacity-80"),onClick:()=>{t&&t(!1)},children:[n.jsx(i,{className:"ml-3 size-5 flex-none"}),r||!o&&!r?n.jsx("span",{className:"mr-2 truncate",children:s.title}):""]})}),n.jsx(W,{align:"center",side:"right",sideOffset:8,className:o?"inline-block":"hidden",children:s.title})]},a)})})}):null},O=[{title:"Dashboard",href:route("dashboard.home"),icon:"IconHome2",active:route().current()=="dashboard.home"},{title:"Manajemen Tingkat Peserta",href:route("dashboard.superadmin.levels.index"),icon:"IconLabelImportantFilled",active:route().current()=="dashboard.superadmin.levels.*"},{title:"Manajemen Pengguna",href:route("dashboard.superadmin.users.index"),icon:"IconUsersGroup",active:route().current()=="dashboard.superadmin.users.*"},{title:"Manajemen Perlombaan",href:route("dashboard.superadmin.competitions.index"),icon:"IconTournament",active:route().current()=="dashboard.superadmin.competitions.*"}],P=[{title:"Dashboard",href:route("dashboard.home"),icon:"IconHome2",active:route().current()=="dashboard.home"},{title:"Perlombaan",href:route("dashboard.admin.competitions.index"),icon:"IconTournament",active:route().current()=="dashboard.admin.competitions.*"}],be=[{title:"My Profile",href:route("profiles.index"),icon:"IconUserCircle",active:route().current()=="guest.profiles"},{title:"Perlombaan",href:route("my-competitions"),icon:"IconHome2",active:route().current()=="guest.competitions"}],ye=({className:e,role:t})=>{const[r,o]=S.useState(!1);return n.jsx(n.Fragment,{children:n.jsxs($,{open:r,onOpenChange:o,children:[n.jsx(L,{asChild:!0,children:n.jsx(N,{icon:"IconMenu2"})}),n.jsx(H,{side:"left",className:"!px-0",children:n.jsx("div",{className:"space-y-4 py-4",children:n.jsxs("div",{className:"px-3 py-2",children:[n.jsx("h2",{className:"mb-2 px-4 text-lg font-semibold tracking-tight",children:"Overview"}),n.jsx("div",{className:"space-y-1",children:n.jsx(C,{items:t==="superadmin"?O:P,isMobileNav:!0,setOpen:o})})]})})})]})})},we=()=>{var r,o;const{auth:e}=w().props,t=(r=e.user)==null?void 0:r.data;return n.jsx("header",{className:"sticky inset-x-0 top-0 w-full",children:n.jsxs("nav",{className:"flex items-center justify-between px-4 py-2 md:justify-end",children:[n.jsx("div",{className:v("block lg:!hidden"),children:n.jsx(ye,{role:t==null?void 0:t.role})}),n.jsxs("div",{className:"flex flex-row-reverse items-center gap-2",children:[((o=e==null?void 0:e.user)==null?void 0:o.data)&&n.jsx(R,{}),n.jsx(B,{})]})]})})},Ne=({className:e})=>{var i;const{isMinimized:t,toggle:r}=M(),o=()=>{r()},{auth:s}=w().props,a=(i=s.user)==null?void 0:i.data;return n.jsxs("aside",{className:v("relative hidden h-screen flex-none border-r bg-card transition-[width] duration-500 md:block",t?"w-[72px]":"w-72",e),children:[n.jsx("div",{className:"hidden p-5 pt-10 lg:block",children:n.jsx(y,{href:"#",target:"_blank",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2 h-6 w-6",children:n.jsx("path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3"})})})}),n.jsx(N,{icon:"IconChevronLeft",className:v("absolute -right-3 top-10 z-50 cursor-pointer rounded-full border bg-background text-3xl text-foreground",t&&"rotate-180"),onClick:o}),n.jsx("div",{className:"space-y-4 py-4",children:n.jsx("div",{className:"px-3 py-2",children:n.jsx("div",{className:"mt-3 space-y-1",children:n.jsx(C,{items:a.role==="superadmin"?O:(a==null?void 0:a.role)==="admin"?P:be})})})})]})},Oe=({children:e})=>n.jsxs(n.Fragment,{children:[n.jsx(V,{title:"Admin Panel"}),n.jsxs("div",{className:"flex",children:[n.jsx(Ne,{}),n.jsxs("main",{className:"w-full flex-1 overflow-hidden",children:[n.jsx(we,{}),e]}),n.jsx(_,{})]})]});export{Oe as A};
