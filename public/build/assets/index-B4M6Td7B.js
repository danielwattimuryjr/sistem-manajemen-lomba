import{j as e,X as j,r as u}from"./app-B60EcP0F.js";import{A as f}from"./admin-layout-CEd8-ttv.js";import{P as b}from"./page-container-rlvJWz3i.js";import{S as m}from"./separator-BGMA3rXG.js";import{H as c}from"./heading-BS4zfkQL.js";import{C as g}from"./action-group-Bb-fNwu4.js";import{B as T}from"./breadcrumbs-CwA7-WYV.js";import{p as C}from"./purify.es-DhD2mIk-.js";import{B as P}from"./badge-DEpkxLbS.js";import{C as N}from"./card-Casr4EAe.js";import{T as v,a as w,b as l,c as d,d as y,e as a,f as D}from"./table-D3oQLJ8k.js";import{I as F}from"./index-C_XPObF9.js";import{u as S}from"./useFilter-CT87zOXG.js";import"./utils-3lJgAyb9.js";import"./index-txSIXxnf.js";import"./index-ChQ5FCrs.js";import"./index-DjB6YL3z.js";import"./index-B3xyG9Sm.js";import"./index-BpGVp1RD.js";import"./index-DlFG3IiW.js";import"./react-icons.esm-DX7J3ezY.js";import"./index-BxiXi9wP.js";import"./tooltip-Bw40quRc.js";import"./index-DGcbGRtM.js";import"./index-CRHTDXns.js";import"./icon-CDAD0Rl-.js";import"./createReactComponent-Cs6tuBPI.js";import"./IconX-nwyvps9G.js";import"./IconPlus-CCFgEcR2.js";import"./IconSlash-DmliORvO.js";import"./theme-toggle-B7BIcAfD.js";import"./button-CSYySzoJ.js";import"./dropdown-menu-DvlVD2CP.js";import"./index-CzCfGb1c.js";import"./index-Cg1qvr-_.js";import"./index-DIer2Liq.js";import"./getTimeStamp-BSXMOBTR.js";import"./scroll-area-BJ2wO9nW.js";import"./index-BdQq_4o_.js";import"./button-dialog-DG7kCTOd.js";import"./alert-dialog-CtoRGGks.js";import"./button-Bi5-G8aJ.js";import"./data-table-search-input-D458gmGi.js";import"./input-D8GnZ1_W.js";function k({competition:t,isSuperadmin:r}){const s=[{title:"Dashboard",link:route("dashboard.home")},{title:r?"Manajemen Perlombaan":"Perlombaan",link:r?route("dashboard.superadmin.competitions.index"):route("dashboard.admin.competitions.index")},{title:t.name}];return e.jsxs(e.Fragment,{children:[e.jsx(T,{items:s}),e.jsxs("header",{className:"flex flex-col items-start justify-around gap-y-4 md:flex-row md:items-center md:justify-between",children:[e.jsx(c,{title:t.name,description:t.hasFinalScores?"Perlombaan ini sudah dinilai":""}),r&&e.jsx(g,{competition:t})]})]})}const o=({title:t,children:r})=>e.jsxs("div",{className:"grid grid-cols-1 gap-1 py-3 sm:grid-cols-3 sm:gap-4",children:[e.jsx("dt",{className:"font-bold",children:t}),e.jsx("dd",{className:"space-x-4 sm:col-span-2",children:r})]});function A({competition:t}){const r=C.sanitize(t==null?void 0:t.description);return e.jsxs("div",{className:"flow-root",children:[e.jsxs("dl",{className:"divide-y divide-muted text-sm",children:[e.jsx(o,{title:"Tanggal Mulai",children:t.startDate}),e.jsx(o,{title:"Tanggal Selesai",children:t.endDate}),e.jsx(o,{title:"Juri",children:t.judge}),e.jsx(o,{title:"Status Saat Ini",children:e.jsx("p",{className:t.isActive?"text-green-400":"text-destructive",children:t.isActive?"Aktif":"Tidak Aktif "})}),e.jsx(o,{title:"Tingkat Perlombaan",children:t.levels.length>0?e.jsx(e.Fragment,{children:t.levels.map(s=>e.jsx(P,{children:s.name},s.slug))}):"-"})]}),e.jsx("div",{dangerouslySetInnerHTML:{__html:r},className:"ProseMirror mt-4"})]})}function B({criterias:t}){return e.jsxs(e.Fragment,{children:[e.jsx(c,{title:"Faktor Penilaian"}),e.jsx(N,{children:e.jsxs(v,{children:[e.jsx(w,{children:e.jsxs(l,{children:[e.jsx(d,{className:"w-[50px] text-center",children:"#"}),e.jsx(d,{children:"Nama Faktor"}),e.jsx(d,{children:"Bobot (%)"})]})}),e.jsx(y,{children:t.length>0?e.jsx(e.Fragment,{children:t.map((r,s)=>e.jsxs(l,{children:[e.jsxs(a,{className:"text-center",children:["C",s+1]}),e.jsx(a,{children:r.name}),e.jsx(a,{children:r.weight})]},s))}):e.jsx(l,{children:e.jsx(a,{colSpan:3,className:"animate-pulse py-5 text-center text-base font-semibold text-destructive",children:"Data Tidak Ada"})})}),e.jsx(D,{children:e.jsxs(l,{children:[e.jsx(a,{colSpan:2,children:"Total Bobot (%)"}),e.jsx(a,{children:t.reduce((r,s)=>r+s.weight,0)})]})})]})})]})}function H({competition:t,isSuperadmin:r}){const{participants:s,params:n}=j().props,[i,p]=u.useState(n);S({route:r?route("dashboard.superadmin.competitions.show",t):route("dashboard.admin.competitions.show",t),values:i,only:["participants"]});const x=h=>{p(h)};return e.jsxs(e.Fragment,{children:[e.jsx(c,{title:"Daftar Peserta"}),e.jsx(F,{competition:t,params:i,participants:s.data,setParams:x})]})}const ve=t=>{var i;const{data:r}=t.competition,s=(i=t.auth.user)==null?void 0:i.data,n=(s==null?void 0:s.role)==="superadmin";return e.jsx(f,{children:e.jsxs(b,{scrollable:!0,children:[e.jsx(k,{competition:r,isSuperadmin:n}),e.jsx(m,{}),e.jsx(A,{competition:r}),e.jsx(m,{}),e.jsx(B,{criterias:r.criterias}),e.jsx(m,{}),e.jsx(H,{competition:r,isSuperadmin:n})]})})};export{ve as default};
