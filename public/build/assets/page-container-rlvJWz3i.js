import{r as a,j as s,X as Ge,A as ce,a as Je}from"./app-B60EcP0F.js";import{c as de,u as O,a as J,P as Qe,b as C}from"./index-ChQ5FCrs.js";import{P,d as Ze}from"./index-DlFG3IiW.js";import{c as N}from"./utils-3lJgAyb9.js";import{B as et}from"./button-CSYySzoJ.js";import{D as tt,a as ot,b as rt,c as st,d as re,f as at,e as se}from"./dropdown-menu-DvlVD2CP.js";import{t as ae,g as ne,u as nt}from"./getTimeStamp-BSXMOBTR.js";import{C as it}from"./react-icons.esm-DX7J3ezY.js";import{u as ue}from"./index-DjB6YL3z.js";import{c as ct}from"./index-CzCfGb1c.js";import{B as dt,R as ut}from"./index-BpGVp1RD.js";import{c as lt}from"./index-txSIXxnf.js";import{u as pt}from"./index-B3xyG9Sm.js";import{V as le}from"./index-CRHTDXns.js";import{c as ft}from"./index-BxiXi9wP.js";import"./scroll-area-BJ2wO9nW.js";var Q="Avatar",[mt,oo]=de(Q),[vt,pe]=mt(Q),fe=a.forwardRef((e,t)=>{const{__scopeAvatar:o,...r}=e,[i,c]=a.useState("idle");return s.jsx(vt,{scope:o,imageLoadingStatus:i,onImageLoadingStatusChange:c,children:s.jsx(P.span,{...r,ref:t})})});fe.displayName=Q;var me="AvatarImage",ve=a.forwardRef((e,t)=>{const{__scopeAvatar:o,src:r,onLoadingStatusChange:i=()=>{},...c}=e,l=pe(me,o),p=xt(r,c.referrerPolicy),f=O(n=>{i(n),l.onImageLoadingStatusChange(n)});return J(()=>{p!=="idle"&&f(p)},[p,f]),p==="loaded"?s.jsx(P.img,{...c,ref:t,src:r}):null});ve.displayName=me;var xe="AvatarFallback",we=a.forwardRef((e,t)=>{const{__scopeAvatar:o,delayMs:r,...i}=e,c=pe(xe,o),[l,p]=a.useState(r===void 0);return a.useEffect(()=>{if(r!==void 0){const f=window.setTimeout(()=>p(!0),r);return()=>window.clearTimeout(f)}},[r]),l&&c.imageLoadingStatus!=="loaded"?s.jsx(P.span,{...i,ref:t}):null});we.displayName=xe;function xt(e,t){const[o,r]=a.useState("idle");return J(()=>{if(!e){r("error");return}let i=!0;const c=new window.Image,l=p=>()=>{i&&r(p)};return r("loading"),c.onload=l("loaded"),c.onerror=l("error"),c.src=e,t&&(c.referrerPolicy=t),()=>{i=!1}},[e,t]),o}var Te=fe,ge=ve,he=we;const ye=a.forwardRef(({className:e,...t},o)=>s.jsx(Te,{ref:o,className:N("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));ye.displayName=Te.displayName;const Ee=a.forwardRef(({className:e,...t},o)=>s.jsx(ge,{ref:o,className:N("aspect-square h-full w-full",e),...t}));Ee.displayName=ge.displayName;const be=a.forwardRef(({className:e,...t},o)=>s.jsx(he,{ref:o,className:N("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));be.displayName=he.displayName;function wt(){ce.post(route("logout"),void 0,{onSuccess:()=>{ae({title:"Logout berhasil",description:ne()})},onError:()=>{ae({variant:"destructive",title:"Terjadi kesalahan saat proses logout",description:ne()})}})}function Tt(){ce.get(route("profiles.index"))}const ro=({...e})=>{var o,r,i,c,l,p,f,n,T;const{auth:t}=Ge().props;return s.jsxs(tt,{className:e,children:[s.jsx(ot,{asChild:!0,children:s.jsx(et,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:s.jsxs(ye,{className:"h-10 w-10",children:[s.jsx(Ee,{src:"https://github.com/shadcn.png",alt:((r=(o=t.user)==null?void 0:o.data)==null?void 0:r.name)??""}),s.jsx(be,{children:(l=(c=(i=t.user)==null?void 0:i.data)==null?void 0:c.name)==null?void 0:l[0]})]})})}),s.jsxs(rt,{className:"w-56",align:"end",forceMount:!0,children:[s.jsx(st,{className:"font-normal",children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsx("p",{className:"text-sm font-medium leading-none",children:(f=(p=t.user)==null?void 0:p.data)==null?void 0:f.name}),s.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:(T=(n=t.user)==null?void 0:n.data)==null?void 0:T.email})]})}),s.jsx(re,{}),s.jsx(at,{children:s.jsx(se,{onClick:Tt,children:"Profile"})}),s.jsx(re,{}),s.jsx(se,{onClick:wt,children:"Log out"})]})]})};var Z="ToastProvider",[ee,gt,ht]=ct("Toast"),[Ce,so]=de("Toast",[ht]),[yt,W]=Ce(Z),Pe=e=>{const{__scopeToast:t,label:o="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:c=50,children:l}=e,[p,f]=a.useState(null),[n,T]=a.useState(0),h=a.useRef(!1),D=a.useRef(!1);return o.trim()||console.error(`Invalid prop \`label\` supplied to \`${Z}\`. Expected non-empty \`string\`.`),s.jsx(ee.Provider,{scope:t,children:s.jsx(yt,{scope:t,label:o,duration:r,swipeDirection:i,swipeThreshold:c,toastCount:n,viewport:p,onViewportChange:f,onToastAdd:a.useCallback(()=>T(j=>j+1),[]),onToastRemove:a.useCallback(()=>T(j=>j-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:D,children:l})})};Pe.displayName=Z;var Ne="ToastViewport",Et=["F8"],q="toast.viewportPause",z="toast.viewportResume",Re=a.forwardRef((e,t)=>{const{__scopeToast:o,hotkey:r=Et,label:i="Notifications ({hotkey})",...c}=e,l=W(Ne,o),p=gt(o),f=a.useRef(null),n=a.useRef(null),T=a.useRef(null),h=a.useRef(null),D=ue(t,h,l.onViewportChange),j=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=l.toastCount>0;a.useEffect(()=>{const u=y=>{var x;r.length!==0&&r.every(w=>y[w]||y.code===w)&&((x=h.current)==null||x.focus())};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[r]),a.useEffect(()=>{const u=f.current,y=h.current;if(A&&u&&y){const v=()=>{if(!l.isClosePausedRef.current){const E=new CustomEvent(q);y.dispatchEvent(E),l.isClosePausedRef.current=!0}},x=()=>{if(l.isClosePausedRef.current){const E=new CustomEvent(z);y.dispatchEvent(E),l.isClosePausedRef.current=!1}},w=E=>{!u.contains(E.relatedTarget)&&x()},g=()=>{u.contains(document.activeElement)||x()};return u.addEventListener("focusin",v),u.addEventListener("focusout",w),u.addEventListener("pointermove",v),u.addEventListener("pointerleave",g),window.addEventListener("blur",v),window.addEventListener("focus",x),()=>{u.removeEventListener("focusin",v),u.removeEventListener("focusout",w),u.removeEventListener("pointermove",v),u.removeEventListener("pointerleave",g),window.removeEventListener("blur",v),window.removeEventListener("focus",x)}}},[A,l.isClosePausedRef]);const m=a.useCallback(({tabbingDirection:u})=>{const v=p().map(x=>{const w=x.ref.current,g=[w,...Lt(w)];return u==="forwards"?g:g.reverse()});return(u==="forwards"?v.reverse():v).flat()},[p]);return a.useEffect(()=>{const u=h.current;if(u){const y=v=>{var g,E,S;const x=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!x){const L=document.activeElement,_=v.shiftKey;if(v.target===u&&_){(g=n.current)==null||g.focus();return}const I=m({tabbingDirection:_?"backwards":"forwards"}),V=I.findIndex(d=>d===L);Y(I.slice(V+1))?v.preventDefault():_?(E=n.current)==null||E.focus():(S=T.current)==null||S.focus()}};return u.addEventListener("keydown",y),()=>u.removeEventListener("keydown",y)}},[p,m]),s.jsxs(dt,{ref:f,role:"region","aria-label":i.replace("{hotkey}",j),tabIndex:-1,style:{pointerEvents:A?void 0:"none"},children:[A&&s.jsx(G,{ref:n,onFocusFromOutsideViewport:()=>{const u=m({tabbingDirection:"forwards"});Y(u)}}),s.jsx(ee.Slot,{scope:o,children:s.jsx(P.ol,{tabIndex:-1,...c,ref:D})}),A&&s.jsx(G,{ref:T,onFocusFromOutsideViewport:()=>{const u=m({tabbingDirection:"backwards"});Y(u)}})]})});Re.displayName=Ne;var je="ToastFocusProxy",G=a.forwardRef((e,t)=>{const{__scopeToast:o,onFocusFromOutsideViewport:r,...i}=e,c=W(je,o);return s.jsx(le,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:l=>{var n;const p=l.relatedTarget;!((n=c.viewport)!=null&&n.contains(p))&&r()}})});G.displayName=je;var U="Toast",bt="toast.swipeStart",Ct="toast.swipeMove",Pt="toast.swipeCancel",Nt="toast.swipeEnd",Ae=a.forwardRef((e,t)=>{const{forceMount:o,open:r,defaultOpen:i,onOpenChange:c,...l}=e,[p=!0,f]=pt({prop:r,defaultProp:i,onChange:c});return s.jsx(Qe,{present:o||p,children:s.jsx(At,{open:p,...l,ref:t,onClose:()=>f(!1),onPause:O(e.onPause),onResume:O(e.onResume),onSwipeStart:C(e.onSwipeStart,n=>{n.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:C(e.onSwipeMove,n=>{const{x:T,y:h}=n.detail.delta;n.currentTarget.setAttribute("data-swipe","move"),n.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${T}px`),n.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:C(e.onSwipeCancel,n=>{n.currentTarget.setAttribute("data-swipe","cancel"),n.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),n.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),n.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),n.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:C(e.onSwipeEnd,n=>{const{x:T,y:h}=n.detail.delta;n.currentTarget.setAttribute("data-swipe","end"),n.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),n.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),n.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${T}px`),n.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),f(!1)})})})});Ae.displayName=U;var[Rt,jt]=Ce(U,{onClose(){}}),At=a.forwardRef((e,t)=>{const{__scopeToast:o,type:r="foreground",duration:i,open:c,onClose:l,onEscapeKeyDown:p,onPause:f,onResume:n,onSwipeStart:T,onSwipeMove:h,onSwipeCancel:D,onSwipeEnd:j,...A}=e,m=W(U,o),[u,y]=a.useState(null),v=ue(t,d=>y(d)),x=a.useRef(null),w=a.useRef(null),g=i||m.duration,E=a.useRef(0),S=a.useRef(g),L=a.useRef(0),{onToastAdd:_,onToastRemove:B}=m,F=O(()=>{var b;(u==null?void 0:u.contains(document.activeElement))&&((b=m.viewport)==null||b.focus()),l()}),I=a.useCallback(d=>{!d||d===1/0||(window.clearTimeout(L.current),E.current=new Date().getTime(),L.current=window.setTimeout(F,d))},[F]);a.useEffect(()=>{const d=m.viewport;if(d){const b=()=>{I(S.current),n==null||n()},R=()=>{const M=new Date().getTime()-E.current;S.current=S.current-M,window.clearTimeout(L.current),f==null||f()};return d.addEventListener(q,R),d.addEventListener(z,b),()=>{d.removeEventListener(q,R),d.removeEventListener(z,b)}}},[m.viewport,g,f,n,I]),a.useEffect(()=>{c&&!m.isClosePausedRef.current&&I(g)},[c,g,m.isClosePausedRef,I]),a.useEffect(()=>(_(),()=>B()),[_,B]);const V=a.useMemo(()=>u?Me(u):null,[u]);return m.viewport?s.jsxs(s.Fragment,{children:[V&&s.jsx(St,{__scopeToast:o,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:V}),s.jsx(Rt,{scope:o,onClose:F,children:Je.createPortal(s.jsx(ee.ItemSlot,{scope:o,children:s.jsx(ut,{asChild:!0,onEscapeKeyDown:C(p,()=>{m.isFocusedToastEscapeKeyDownRef.current||F(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(P.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":c?"open":"closed","data-swipe-direction":m.swipeDirection,...A,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:C(e.onKeyDown,d=>{d.key==="Escape"&&(p==null||p(d.nativeEvent),d.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:C(e.onPointerDown,d=>{d.button===0&&(x.current={x:d.clientX,y:d.clientY})}),onPointerMove:C(e.onPointerMove,d=>{if(!x.current)return;const b=d.clientX-x.current.x,R=d.clientY-x.current.y,M=!!w.current,k=["left","right"].includes(m.swipeDirection),K=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,qe=k?K(0,b):0,ze=k?0:K(0,R),X=d.pointerType==="touch"?10:2,$={x:qe,y:ze},oe={originalEvent:d,delta:$};M?(w.current=$,H(Ct,h,oe,{discrete:!1})):ie($,m.swipeDirection,X)?(w.current=$,H(bt,T,oe,{discrete:!1}),d.target.setPointerCapture(d.pointerId)):(Math.abs(b)>X||Math.abs(R)>X)&&(x.current=null)}),onPointerUp:C(e.onPointerUp,d=>{const b=w.current,R=d.target;if(R.hasPointerCapture(d.pointerId)&&R.releasePointerCapture(d.pointerId),w.current=null,x.current=null,b){const M=d.currentTarget,k={originalEvent:d,delta:b};ie(b,m.swipeDirection,m.swipeThreshold)?H(Nt,j,k,{discrete:!0}):H(Pt,D,k,{discrete:!0}),M.addEventListener("click",K=>K.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),St=e=>{const{__scopeToast:t,children:o,...r}=e,i=W(U,t),[c,l]=a.useState(!1),[p,f]=a.useState(!1);return Ft(()=>l(!0)),a.useEffect(()=>{const n=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(n)},[]),p?null:s.jsx(lt,{asChild:!0,children:s.jsx(le,{...r,children:c&&s.jsxs(s.Fragment,{children:[i.label," ",o]})})})},It="ToastTitle",Se=a.forwardRef((e,t)=>{const{__scopeToast:o,...r}=e;return s.jsx(P.div,{...r,ref:t})});Se.displayName=It;var _t="ToastDescription",Ie=a.forwardRef((e,t)=>{const{__scopeToast:o,...r}=e;return s.jsx(P.div,{...r,ref:t})});Ie.displayName=_t;var _e="ToastAction",Fe=a.forwardRef((e,t)=>{const{altText:o,...r}=e;return o.trim()?s.jsx(Le,{altText:o,asChild:!0,children:s.jsx(te,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${_e}\`. Expected non-empty \`string\`.`),null)});Fe.displayName=_e;var De="ToastClose",te=a.forwardRef((e,t)=>{const{__scopeToast:o,...r}=e,i=jt(De,o);return s.jsx(Le,{asChild:!0,children:s.jsx(P.button,{type:"button",...r,ref:t,onClick:C(e.onClick,i.onClose)})})});te.displayName=De;var Le=a.forwardRef((e,t)=>{const{__scopeToast:o,altText:r,...i}=e;return s.jsx(P.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function Me(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),Dt(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",c=r.dataset.radixToastAnnounceExclude==="";if(!i)if(c){const l=r.dataset.radixToastAnnounceAlt;l&&t.push(l)}else t.push(...Me(r))}}),t}function H(e,t,o,{discrete:r}){const i=o.originalEvent.currentTarget,c=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:o});t&&i.addEventListener(e,t,{once:!0}),r?Ze(i,c):i.dispatchEvent(c)}var ie=(e,t,o=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),c=r>i;return t==="left"||t==="right"?c&&r>o:!c&&i>o};function Ft(e=()=>{}){const t=O(e);J(()=>{let o=0,r=0;return o=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(o),window.cancelAnimationFrame(r)}},[t])}function Dt(e){return e.nodeType===e.ELEMENT_NODE}function Lt(e){const t=[],o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;o.nextNode();)t.push(o.currentNode);return t}function Y(e){const t=document.activeElement;return e.some(o=>o===t?!0:(o.focus(),document.activeElement!==t))}var Mt=Pe,ke=Re,Oe=Ae,Ve=Se,Ke=Ie,$e=Fe,He=te;const kt=Mt,We=a.forwardRef(({className:e,...t},o)=>s.jsx(ke,{ref:o,className:N("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));We.displayName=ke.displayName;const Ot=ft("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Ue=a.forwardRef(({className:e,variant:t,...o},r)=>s.jsx(Oe,{ref:r,className:N(Ot({variant:t}),e),...o}));Ue.displayName=Oe.displayName;const Vt=a.forwardRef(({className:e,...t},o)=>s.jsx($e,{ref:o,className:N("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Vt.displayName=$e.displayName;const Be=a.forwardRef(({className:e,...t},o)=>s.jsx(He,{ref:o,className:N("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(it,{className:"h-4 w-4"})}));Be.displayName=He.displayName;const Xe=a.forwardRef(({className:e,...t},o)=>s.jsx(Ve,{ref:o,className:N("text-sm font-semibold [&+div]:text-xs",e),...t}));Xe.displayName=Ve.displayName;const Ye=a.forwardRef(({className:e,...t},o)=>s.jsx(Ke,{ref:o,className:N("text-sm opacity-90",e),...t}));Ye.displayName=Ke.displayName;function ao(){const{toasts:e}=nt();return s.jsxs(kt,{children:[e.map(function({id:t,title:o,description:r,action:i,...c}){return s.jsxs(Ue,{...c,children:[s.jsxs("div",{className:"grid gap-1",children:[o&&s.jsx(Xe,{children:o}),r&&s.jsx(Ye,{children:r})]}),i,s.jsx(Be,{})]},t)}),s.jsx(We,{})]})}const no=({children:e,scrollable:t=!0})=>{const o=s.jsx("div",{className:"space-y-4 lg:space-y-8",children:e});return s.jsx(s.Fragment,{children:s.jsx("div",{className:`h-full p-4 md:px-8 ${t&&"overflow-auto"}`,children:o})})};export{no as P,ao as T,ro as U};
