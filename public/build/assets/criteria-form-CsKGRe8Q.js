import{r as F,j as e}from"./app-DpEa6Rf_.js";import{I as u}from"./input-Ccm4_eHP.js";import{T as k,a as N,b as i,c as m,d as w,e as o,f as y}from"./table-BqxjZXhO.js";import{S as I}from"./scroll-area-B8Vg6tbP.js";import{B as b}from"./button-31hOb7zH.js";import{a as g}from"./icon-C28CBXB_.js";import{T as H,a as S,b as B,c as P}from"./tooltip-RQsjLXiz.js";import{H as A}from"./heading-DFeRE5AC.js";import{I as f}from"./input-error-0HKGVXbz.js";import"./utils-S9NV2AZE.js";import"./index-DyUOoml4.js";import"./index-xyiFk2wD.js";import"./index-D4Pui9mU.js";import"./index-DcWR1KiJ.js";import"./index-BdQq_4o_.js";import"./index-crENPLr2.js";import"./createReactComponent-6wwH-MRe.js";import"./IconX-B9wp1jA3.js";import"./IconPlus-BkW2GP50.js";import"./IconSlash-C7wowQNZ.js";import"./index--C4u84Ed.js";import"./index-5ZMHX0MN.js";import"./index-BDnPpse6.js";import"./index-ChyvvWOb.js";function re({initialFactors:d=[],setAssessmentFactors:l,errors:p}){const[s,c]=F.useState(d.length>0?d:[{name:"",weight:0}]),h=(t,a,r)=>{const n=s.map((j,C)=>C===t?{...j,[a]:r}:j);c(n),l(n)},T=()=>{const t={name:"",weight:0},a=[...s,t];c(a),l(a)},v=t=>{const a=s.filter((r,n)=>n!==t);c(a),l(a)},x=s.reduce((t,a)=>t+Number(a.weight),0);return e.jsxs(e.Fragment,{children:[e.jsx(A,{title:"Faktor Penilaian",description:"Pada bagian ini, silahkan tentukan faktor penilaian untuk lomba ini beserta dengan bobotnya. Total bobot penilaian tidak boleh melebihi 100%"}),e.jsxs("h1",{children:["Total bobot penilaian: ",x]}),e.jsx(I,{className:"h-[calc(80vh-300px)] rounded-md border",children:e.jsxs(k,{className:"relative",children:[e.jsx(N,{children:e.jsxs(i,{children:[e.jsx(m,{children:"Nama Faktor"}),e.jsx(m,{children:"Bobot"}),e.jsx(m,{})]})}),e.jsx(w,{children:s.length>0?e.jsx(e.Fragment,{children:s.map((t,a)=>e.jsxs(i,{children:[e.jsxs(o,{children:[e.jsx(u,{value:t.name,placeholder:"Cth. Kreativitas",onChange:r=>h(a,"name",r.target.value)}),e.jsx(f,{message:p[`assessment_factors.${a}.name`],className:"mt-2"})]}),e.jsxs(o,{children:[e.jsx(u,{type:"number",min:0,value:t.weight,onChange:r=>h(a,"weight",r.target.value)}),e.jsx(f,{message:p[`assessment_factors.${a}.weight`],className:"mt-2"})]}),e.jsx(o,{className:"flex items-center justify-center",children:e.jsx(H,{children:e.jsxs(S,{children:[e.jsx(B,{asChild:!0,children:e.jsx(b,{size:"icon",variant:"outline",type:"button",onClick:()=>v(a),children:e.jsx(g,{icon:"IconTrash"})})}),e.jsx(P,{align:"center",children:"Hapus baris ini"})]})})})]},a))}):e.jsx(i,{children:e.jsx(o,{colSpan:7,className:"animate-pulse py-5 text-center text-base font-semibold text-destructive",children:"Data Tidak Ada."})})}),e.jsx(y,{children:e.jsx(i,{children:e.jsx(o,{colSpan:3,children:e.jsxs(b,{type:"button",disabled:x>=100,onClick:T,variant:"ghost",className:"w-full",children:[e.jsx(g,{icon:"IconPlus",className:"mr-2"}),"Tambah"]})})})})]})})]})}export{re as default};
